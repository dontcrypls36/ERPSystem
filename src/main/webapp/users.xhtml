<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:body>
    <h1>Add a user</h1>
    <h:form>
        <table>
            <tr>
                <td><label>Name</label></td>
                <td><h:inputText id="name" value="#{user.name}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>Surname</label></td>
                <td><h:inputText id="surname" value="#{user.surname}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>E-mail</label></td>
                <td><h:inputText id="email" value="#{user.email}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>Department</label></td>
                <td><h:inputText id="department" value="#{user.department}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>Position</label></td>
                <td><h:inputText id="position" value="#{user.position}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>Role</label></td>
                <td><h:selectManyListbox id="role" value="#{user.roles}">
                    <f:selectItems value="#{roleBean.roleValues}" var="g"
                                   itemValue="#{g}" itemLabel="#{g}"/>
                </h:selectManyListbox>
                </td>
            </tr>
            <tr>
                <td><label>Login</label></td>
                <td><h:inputText id="login" value="#{user.login}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>Password</label></td>
                <td><h:inputText id="password" value="#{user.password}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td colspan="2"><h:commandButton
                        action="#{userService.save(user)}" value="Add user"></h:commandButton>
                </td>
            </tr>

        </table>

    </h:form>

    <h3>Users List</h3>


    <c:if test="${!empty userService.getAll()}">
        <table class="tg">
            <tr>
                <th width="80">Person ID</th>
                <th width="120">Person Name</th>
                <th width="120">Person Department</th>
            </tr>
            <ui:repeat value="${userService.getAll()}" var="user">
                <tr>
                    <td>${user.id}</td>
                    <td>${user.name}</td>
                    <td>${user.department}</td>
                </tr>
            </ui:repeat>
        </table>
    </c:if>

</h:body>
</html>